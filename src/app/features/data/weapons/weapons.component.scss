:host {
    display: block;

    ::ng-deep .table-header-clip {
        contain: paint;
    }

    ::ng-deep .table-header-table {
        will-change: transform;
    }

    // Ensure the virtual-scroll wrapper contributes a precise scrollWidth.
    // Feature 012: Added min-width to fix column alignment on 4K/high-DPI screens
    ::ng-deep .cdk-virtual-scroll-content-wrapper {
        display: inline-block;
        width: max-content;
        min-width: 100%;
    }

    // The viewport is the only visible horizontal scrollbar.
    ::ng-deep cdk-virtual-scroll-viewport {
        overflow-x: auto;
    }

    // T013: GPU acceleration for smooth collapse animations
    ::ng-deep .collapse .collapse-content {
        will-change: transform, opacity;
        transform: translateZ(0);
    }
}

table {
    width: max-content;
    table-layout: fixed;

    tr.hover {
        cursor: pointer;
    }

    // Highlight selected row
    tr.active {
        background-color: hsl(var(--p) / 0.1);
    }
}

// Detail Side Panel overlay variant (Tailwind: bg-base-200 used in template)
.detail-panel.overlay {
    width: 100%;
    max-width: 60%;
    border-left: none;
}
